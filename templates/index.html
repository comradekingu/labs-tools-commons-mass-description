<!-- Blue color = #337ab7 -->

<!DOCTYPE HTML>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Wiki-None-Image-Description-Editor</title>
  <!-- font awesome -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <!-- Latest compiled and minified JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  <style>
    .hidden {
        display: none !important;
        visibility: hidden !important;
    }

		.carousel-inner {
			width: 1280px;
			height: 720px;
		}

    .carousel-caption {
      font-size: 45px;
    }
  </style>
</head>
<body>
  <!-- navbar -->
  <nav class="navbar navbar-inverse bg-faded" style="background-color:#337ab7;border-color: 2e6da4">
    <div class="container-fluid">
      <div class="row" style="padding-left: 15px">
        <div class="col">
          <a class="navbar-brand" href="#" style="color: #fff">
            ImageDescriptionEditor
          </a>
        </div>

        <div class="col" style="float: right">
          {% if username %}
            <a class="navbar-brand" href="#" style="color: #fff">{{ username }}</a>
            <a class="navbar-brand" href="{{ url_for('logout') }}" style="color: #fff">logout</a>
          {% else %}
            <a class="navbar-brand" href="{{ url_for('login') }}" style="color: #fff">login</a>
          {% endif %}
        </div>
      </div>
    </div>
  </nav>

	<div class="container">
		<div class="row">
				<div class="col">

					 <!-- Carousel -->
					<div id="carousel-example-generic" class="carousel slide" data-ride="carousel" data-interval="false">
					  <!-- Wrapper for slides -->
						 <div class="carousel-inner">
               <!--
                zde bude for cyklus ktery z jsony vytahne url a jmeno obrazku
               -->
               <div class="item active">
 					      <img src="http://placehold.it/1280x720">
                 <div class="carousel-caption">
                   test
                 </div>
 					     </div>

 						<div class="listovani">
						<!-- Controls -->
						 <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
					    <span class="glyphicon glyphicon-chevron-left"></span>
					  </a>
					  <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
					    <span class="glyphicon glyphicon-chevron-right"></span>
					  </a>
					</div>
				</div>
				 <!-- End Carousel -->

			</div>

			<div class="col">
				<div class="form-group">
				 <label for="description">Description</label>
				 <textarea class="form-control" rows="5" style="width: 1280px" id="comment"></textarea>
				</div>
			</div>

			<div class="col">
				<button class="btn btn-primary submit">Submit</button>
			</div>
	</div>

<script>

  getItems = function() {
    $.get("https://tools.wmflabs.org/commons-mass-description/images", function( json ) {
      for (var i = 0; i < json.length; i++) {
        //console.log(json[i]['url'], json[i]['title']);
        if(i != 9){
          addItemToCarousel(json[i]['url'], json[i]['title'], false);
        }
        else {
          addItemToCarousel(json[i]['url'], json[i]['title'], true);
        }
      }
    });
  };
  addItemToCarousel = function(url, caption, lastElement) {
    if (lastElement == true) {
      $( "<div class=\"item\"><img src=\"" + url + "\ lastElemnet\"><div class=\"carousel-caption\">" + caption + "</div></div>" ).insertBefore( ".listovani" );
    }else {
      $( "<div class=\"item\"><img src=\"" + url + "\"><div class=\"carousel-caption\">" + caption + "</div></div>" ).insertBefore( ".listovani" );
    }
  };

  checkLast = function() {
    if ($('.active').hasClass('lastElemnet')) == true)
    {
      $('.active').removeClass('lastElemnet');
      getItems();
    }
  }

  $( document ).ready(function() {
    console.log(checkTen);
    getItems();
    $( ".submit" ).click(function() {
      console.log("click");
    });

    //handle carousel clicks
    $(".left").click(function () {
      checkLast();
    });

    $(".right").click(function () {
      checkLast();
    });

  });
</script>
</body>
</html>
